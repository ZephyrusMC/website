const config={serverInfo:{serverLogoImageFileName:"logo.png",serverName:"Zephyrus SMP",serverIp:"118.127.8.146:25765",serverBedrockIp:"118.127.8.146:25765",discordServerID:"1079412112767598703"},contactPage:{email:"zephyrussmp@gmail.com"}};document.addEventListener("DOMContentLoaded",()=>{let e=document.querySelector(".navbar"),r=document.querySelector(".links"),t=document.querySelector(".hamburger");t&&e&&r&&t.addEventListener("click",()=>{e.classList.toggle("active"),r.classList.toggle("active")}),document.querySelectorAll(".navbar .links .link").forEach(t=>{t.addEventListener("click",()=>{e.classList.contains("active")&&(e.classList.remove("active"),r.classList.remove("active"))})})});const getDiscordOnlineUsers=async()=>{try{let e=`https://discord.com/api/guilds/${config.serverInfo.discordServerID}/widget.json`,r=await fetch(e),t=await r.json();return t.presence_count||0}catch(o){return console.error("Discord fetch error:",o),0}},getJavaOnlinePlayers=async()=>{try{let e=`https://api.mcstatus.io/v2/status/java/${config.serverInfo.serverIp}`,r=await fetch(e),t=await r.json();return t.players?.online||0}catch(o){return console.error("Java status error:",o),0}},getBedrockOnlinePlayers=async()=>{try{let e=`https://api.mcstatus.io/v2/status/bedrock/${config.serverInfo.serverBedrockIp}`,r=await fetch(e),t=await r.json();return t.players?.online||0}catch(o){return console.error("Bedrock status error:",o),0}},copyIp=()=>{let e=document.querySelector(".copy-ip"),r=document.querySelector(".ip-copied");e&&r&&e.addEventListener("click",()=>{navigator.clipboard.writeText(config.serverInfo.serverIp).then(()=>{r.classList.add("active"),setTimeout(()=>r.classList.remove("active"),5e3)}).catch(e=>{console.error("Copy error:",e),r.textContent="Error copying IP",r.classList.add("active","error"),setTimeout(()=>r.classList.remove("active","error"),5e3)})})},setDataFromConfigToHtml=async()=>{let e=document.querySelector(".logo-img"),r=document.querySelector(".logo-img-header"),t=document.querySelector(".server-name"),o=document.querySelector(".minecraft-server-ip");t&&(t.textContent=config.serverInfo.serverName),e&&(e.src=`images/${config.serverInfo.serverLogoImageFileName}`),o&&(o.textContent=config.serverInfo.serverIp),r&&(r.src=`images/${config.serverInfo.serverLogoImageFileName}`),copyIp();let a=document.querySelector(".discord-online-users");a&&(a.textContent=await getDiscordOnlineUsers());let s=document.querySelector(".minecraft-online-players");if(s){let n=await getJavaOnlinePlayers(),c=await getBedrockOnlinePlayers(),i=n+c;s.textContent=`${i}`}if(window.location.pathname.includes("contact")){let l=document.querySelector(".contact-form"),v=document.querySelector(".location-after-submit");l&&(l.action=`https://formsubmit.co/${config.contactPage.email}`),v&&(v.value=location.href),a&&(a.textContent=await getDiscordOnlineUsers())}};document.addEventListener("DOMContentLoaded",()=>{setDataFromConfigToHtml()});
